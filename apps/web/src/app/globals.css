@import "tailwindcss";
@plugin "daisyui" {
  themes: funkyfred --default, dark --prefersdark;
}

/* Configure Tailwind's dark: selector to work with daisyUI dark theme */
@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

/* Custom funkyfred theme - Berlin Edgy with hot pink */
@plugin "daisyui/theme" {
  name: "funkyfred";
  color-scheme: "light";
  --color-base-100: oklch(98% 0 0);
  --color-base-200: oklch(95% 0 0);
  --color-base-300: oklch(91% 0 0);
  --color-base-content: oklch(20% 0 0);
  --color-primary: oklch(71.9% 0.357 330.759);
  --color-primary-content: oklch(98% 0 0);
  --color-secondary: oklch(68% 0.224 48.25);
  --color-secondary-content: oklch(98% 0 0);
  --color-accent: oklch(75% 0.264 122.962);
  --color-accent-content: oklch(20% 0 0);
  --color-neutral: oklch(42% 0.199 265.638);
  --color-neutral-content: oklch(98% 0 0);
  --color-info: oklch(60.72% 0.227 252.05);
  --color-info-content: oklch(98% 0 0);
  --color-success: oklch(75% 0.266 158.53);
  --color-success-content: oklch(20% 0 0);
  --color-warning: oklch(80% 0.212 100.5);
  --color-warning-content: oklch(20% 0 0);
  --color-error: oklch(64.84% 0.293 29.349);
  --color-error-content: oklch(98% 0 0);
  --radius-selector: 0rem;
  --radius-field: 0rem;
  --radius-box: 0rem;
  --size-selector: 0.25rem;
  --size-field: 0.25rem;
  --border: 1px;
  --depth: 1;
  --noise: 0;
}

/* Custom dark theme - optimized for readability */
@plugin "daisyui/theme" {
  name: "dark";
  color-scheme: "dark";
  --color-base-100: oklch(22% 0 0);
  --color-base-200: oklch(18% 0 0);
  --color-base-300: oklch(14% 0 0);
  --color-base-content: oklch(95% 0 0);
  --color-primary: oklch(71.9% 0.357 330.759);
  --color-primary-content: oklch(98% 0 0);
  --color-secondary: oklch(73.37% 0.224 48.25);
  --color-secondary-content: oklch(98% 0 0);
  --color-accent: oklch(92.78% 0.264 122.962);
  --color-accent-content: oklch(18.556% 0.052 122.962);
  --color-neutral: oklch(42% 0.199 265.638);
  --color-neutral-content: oklch(95% 0 0);
  --color-info: oklch(60.72% 0.227 252.05);
  --color-info-content: oklch(98% 0 0);
  --color-success: oklch(85.72% 0.266 158.53);
  --color-success-content: oklch(18% 0 0);
  --color-warning: oklch(91.01% 0.212 100.5);
  --color-warning-content: oklch(18% 0 0);
  --color-error: oklch(64.84% 0.293 29.349);
  --color-error-content: oklch(98% 0 0);
  --radius-selector: 0rem;
  --radius-field: 0rem;
  --radius-box: 0rem;
  --size-selector: 0.25rem;
  --size-field: 0.25rem;
  --border: 1px;
  --depth: 1;
  --noise: 0;
}

* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
  max-width: 100vw;
  overflow-x: hidden;
}

a {
  color: inherit;
  text-decoration: none;
}

/* Global component padding utility classes */
@layer utilities {
  .content-wrapper {
    width: 100%;
    max-width: 80rem;
    margin-left: auto;
    margin-right: auto;
    padding-left: 3rem;
    padding-right: 3rem;
  }
  
  @media (max-width: 768px) {
    .content-wrapper {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
  }

  /* Dark mode text readability - simple override for form elements */
  [data-theme="dark"] select,
  [data-theme="dark"] .select,
  [data-theme="dark"] input:not([type="checkbox"]):not([type="radio"]),
  [data-theme="dark"] .input,
  [data-theme="dark"] textarea,
  [data-theme="dark"] .textarea {
    color: oklch(95% 0 0);
    background-color: oklch(18% 0 0);
  }
  
  [data-theme="dark"] select option,
  [data-theme="dark"] .select option {
    background-color: oklch(18% 0 0);
    color: oklch(95% 0 0);
  }
  
  [data-theme="dark"] .text-base-content\/30 { color: oklch(70% 0 0); }
  [data-theme="dark"] .text-base-content\/40 { color: oklch(75% 0 0); }
  [data-theme="dark"] .text-base-content\/50 { color: oklch(80% 0 0); }
  [data-theme="dark"] .text-base-content\/60 { color: oklch(85% 0 0); }
  [data-theme="dark"] .text-base-content\/70 { color: oklch(88% 0 0); }
  [data-theme="dark"] .text-base-content\/80 { color: oklch(92% 0 0); }
  
  [data-theme="dark"] .border-base-content\/20 {
    border-color: oklch(60% 0 0);
  }
}

@layer components {
  .page-container {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    padding-left: 1rem;
    padding-right: 1rem;
    max-width: 80rem;
  }
  
  @media (min-width: 640px) {
    .page-container {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
  }
  
  @media (min-width: 1024px) {
    .page-container {
      padding-left: 3rem;
      padding-right: 3rem;
    }
  }
}

/* Global component defaults for better UI */
@layer base {
  /* Fieldset always has padding and spacing */
  fieldset.fieldset {
    padding: 1.5rem;
  }

  /* Card body always has good padding */
  .card-body {
    padding: 1.5rem;
  }

  /* Buttons have consistent sizing and sharp edges */
  .btn {
    min-height: 40px;
    height: 40px;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
    border-radius: 0 !important;
  }
  
  /* Input fields have proper padding */
  .input,
  input.input {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
    border-radius: 0 !important;
  }

  /* Alerts have proper padding and sharp edges */
  .alert {
    padding: 1rem;
    border-radius: 0 !important;
  }

  /* Cards have sharp edges */
  .card {
    border-radius: 0 !important;
  }

  /* Remove rounded corners from all images and avatars globally */
  img,
  .avatar > div,
  .avatar img {
    border-radius: 0 !important;
  }
  
  /* Force avatar-group avatars to be square, override DaisyUI extreme border-radius */
  .avatar-group .avatar {
    border-radius: 0 !important;
  }

  /* Chat bubble - Berlin edgy style */
  .chat-bubble {
    border-radius: 0 !important; /* No rounded corners */
    position: relative !important;
    word-break: break-word !important;
    overflow-wrap: break-word !important;
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
  }
  
  /* Remove padding for image-only bubbles */
  .chat-bubble.p-0 {
    padding: 0 !important;
  }
  
  /* Chat header - lighter color for better contrast */
  .chat-header {
    color: oklch(60% 0 0) !important;
  }
  
  /* Chat footer - brighter color for better visibility */
  .chat-footer {
    color: oklch(75% 0 0) !important;
  }
  
  /* Avatar fixed height to match single-line bubble */
  .chat-start .chat-image,
  .chat-end .chat-image {
    height: 40px !important;
  }
  
  .chat-start .chat-image .avatar,
  .chat-end .chat-image .avatar {
    height: 40px !important;
  }
  
  .chat-start .chat-image .avatar > div,
  .chat-end .chat-image .avatar > div {
    height: 40px !important;
    width: 40px !important;
  }
  
  /* Join component alignment for input area */
  .join .join-item {
    align-self: stretch !important;
  }
  
  .join .btn.join-item {
    height: 40px !important;
    min-height: 40px !important;
  }
  
  /* Input placeholder - theme-aware colors */
  [data-theme="funkyfred"] .input::placeholder,
  [data-theme="funkyfred"] input.input::placeholder {
    color: oklch(50% 0 0);
    opacity: 1;
  }
  
  [data-theme="dark"] .input::placeholder,
  [data-theme="dark"] input.input::placeholder {
    color: oklch(70% 0 0);
    opacity: 1;
  }
  
  /* Remove focus borders and ensure visible cursor */
  .input:focus,
  input.input:focus,
  .input:focus-visible,
  input.input:focus-visible {
    outline: none !important;
    border-color: currentColor !important;
    box-shadow: none !important;
  }
  
  /* Ensure cursor is visible */
  .input,
  input.input {
    caret-color: currentColor !important;
  }
  
  /* Theme switcher icons - theme-aware colors */
  [data-theme="funkyfred"] .swap svg {
    color: oklch(30% 0 0);
  }
  
  [data-theme="dark"] .swap svg {
    color: oklch(90% 0 0);
  }
  
  /* Chat spacing */
  .chat-start,
  .chat-end {
    column-gap: 1.5rem !important;
  }
  
  /* Force avatar to align with the bubble (row 2) not the header (row 1) */
  .chat-start .chat-image,
  .chat-end .chat-image {
    grid-row-start: 2 !important;
    align-self: start !important;
    margin-top: 0 !important;
  }
  
  /* Remove the default tail/arrow completely */
  .chat-bubble::before {
    content: none !important;
    display: none !important;
  }
  
  /* Dashed line connectors as pseudo-elements - using ::after since ::before is blocked */
  .chat-bubble.dashed-line-left::after,
  .chat-bubble.dashed-line-right::after {
    overflow: visible !important;
  }
  
  .chat-bubble.dashed-line-left::after {
    content: '' !important;
    display: block !important;
    position: absolute !important;
    top: 1.2rem !important;
    left: -1.4rem !important;
    width: 1.3rem !important;
    height: 0 !important;
    border-top: 2px dashed currentColor !important;
    opacity: 0.2 !important;
  }

  .chat-bubble.dashed-line-right::after {
    content: '' !important;
    display: block !important;
    position: absolute !important;
    top: 1.2rem !important;
    right: -1.4rem !important;
    width: 1.3rem !important;
    height: 0 !important;
    border-top: 2px dashed currentColor !important;
    opacity: 0.2 !important;
  }

  /* Theme switcher icons - theme-aware colors */
  [data-theme="funkyfred"] .swap svg {
    color: oklch(30% 0 0);
  }
  
  [data-theme="dark"] .swap svg {
    color: oklch(90% 0 0);
  }
}
